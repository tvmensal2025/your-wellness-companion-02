# üéØ MAPEAMENTO COMPLETO - Sistema de Pontua√ß√£o MaxNutrition

## üìã TODAS as Funcionalidades que Geram Pontos

### ‚úÖ J√Å CONFIGURADAS (15 a√ß√µes)

| # | A√ß√£o | action_type | Pontos | Categoria | Limite/Dia |
|---|------|-------------|--------|-----------|------------|
| 1 | Sess√£o Di√°ria | `daily_session` | 50 | missao | 1 |
| 2 | Miss√£o do Dia | `mission_complete` | 30 | missao | 3 |
| 3 | Comentar Post | `comment` | 5 | social | 10 |
| 4 | Curtir Post | `like` | 2 | social | 20 |
| 5 | Enviar Foto | `photo_upload` | 15 | interacao | 5 |
| 6 | Registrar Peso | `weight_log` | 20 | interacao | 1 |
| 7 | Concluir Meta | `goal_complete` | 100 | desafio | - |
| 8 | Participar Desafio | `challenge_join` | 10 | desafio | 3 |
| 9 | Completar Desafio | `challenge_complete` | 200 | desafio | - |
| 10 | B√¥nus 7 dias | `streak_bonus_7` | 50 | bonus | - |
| 11 | B√¥nus 30 dias | `streak_bonus_30` | 200 | bonus | - |
| 12 | Primeiro Acesso | `first_login` | 100 | bonus | - |
| 13 | Perfil Completo | `profile_complete` | 50 | bonus | - |
| 14 | Indicar Amigo | `referral` | 100 | social | - |
| 15 | Compartilhar | `share_post` | 10 | social | 5 |

---

### üÜï FALTANDO ADICIONAR (35+ a√ß√µes)

#### üì± COMUNIDADE / SOCIAL (8 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 16 | **Criar Post** | `create_post` | 15 | social | 5 |
| 17 | **Criar Story** | `create_story` | 10 | social | 10 |
| 18 | **Visualizar Story** | `view_story` | 1 | social | 50 |
| 19 | **Reagir Post (‚ù§Ô∏è üí™ üî•)** | `react_post` | 3 | social | 30 |
| 20 | **Responder Coment√°rio** | `reply_comment` | 5 | social | 10 |
| 21 | **Seguir Usu√°rio** | `follow_user` | 5 | social | 10 |
| 22 | **Ser Seguido** | `get_followed` | 10 | social | - |
| 23 | **Post Destaque (Top 10)** | `trending_post` | 50 | bonus | - |

#### üèÜ DESAFIOS AVAN√áADOS (12 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 24 | **Flash Challenge Completo** | `flash_challenge_complete` | 150 | desafio | - |
| 25 | **Duelo 1v1 Vencido** | `duel_win` | 200 | desafio | 3 |
| 26 | **Duelo 1v1 Participa√ß√£o** | `duel_participate` | 50 | desafio | 5 |
| 27 | **Entrar em Time** | `join_team` | 20 | desafio | 1 |
| 28 | **Criar Time** | `create_team` | 50 | desafio | 1 |
| 29 | **Desafio de Time Completo** | `team_challenge_complete` | 300 | desafio | - |
| 30 | **Batalha Time vs Time Vencida** | `team_battle_win` | 500 | desafio | - |
| 31 | **Contribuir para Time** | `team_contribution` | 10 | desafio | 10 |
| 32 | **Jornada √âpica - Checkpoint** | `journey_checkpoint` | 75 | desafio | 7 |
| 33 | **Jornada √âpica - Boss Derrotado** | `journey_boss_defeat` | 200 | desafio | - |
| 34 | **Evento Sazonal Completo** | `seasonal_event_complete` | 400 | desafio | - |
| 35 | **Promo√ß√£o de Liga** | `league_promotion` | 300 | bonus | - |

#### üéì CURSOS / EDUCA√á√ÉO (5 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 36 | **Assistir Aula** | `watch_lesson` | 20 | educacao | 10 |
| 37 | **Completar M√≥dulo** | `complete_module` | 100 | educacao | 3 |
| 38 | **Completar Curso** | `complete_course` | 500 | educacao | - |
| 39 | **Quiz Acertado** | `quiz_correct` | 15 | educacao | 20 |
| 40 | **Certificado Obtido** | `certificate_earned` | 200 | bonus | - |

#### üí™ EXERC√çCIOS / TREINO (7 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 41 | **Treino Completo** | `workout_complete` | 100 | exercicio | 3 |
| 42 | **Exerc√≠cio com C√¢mera** | `camera_workout` | 150 | exercicio | 5 |
| 43 | **Boa Forma (>80%)** | `good_form_bonus` | 50 | bonus | 10 |
| 44 | **S√©rie Completa** | `set_complete` | 25 | exercicio | 20 |
| 45 | **Conquista de Exerc√≠cio** | `exercise_achievement` | 100 | bonus | - |
| 46 | **Streak de Treino (7 dias)** | `workout_streak_7` | 100 | bonus | - |
| 47 | **Programa de Treino Completo** | `program_complete` | 300 | exercicio | - |

#### ü•ó NUTRI√á√ÉO (5 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 48 | **Registrar Refei√ß√£o** | `meal_log` | 15 | nutricao | 6 |
| 49 | **Foto de Refei√ß√£o** | `meal_photo` | 20 | nutricao | 6 |
| 50 | **An√°lise Sofia** | `sofia_analysis` | 25 | nutricao | 5 |
| 51 | **Meta Cal√≥rica Atingida** | `calorie_goal_met` | 50 | nutricao | 1 |
| 52 | **Hidrata√ß√£o Completa (2L)** | `hydration_complete` | 30 | nutricao | 1 |

#### üèÉ TRACKING / M√âTRICAS (6 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 53 | **Meta de Passos Atingida** | `steps_goal_met` | 40 | tracking | 1 |
| 54 | **Registrar Sono** | `sleep_log` | 15 | tracking | 1 |
| 55 | **Registrar Humor** | `mood_log` | 10 | tracking | 3 |
| 56 | **Registrar Sintomas** | `symptoms_log` | 15 | tracking | 5 |
| 57 | **Conectar Google Fit** | `connect_google_fit` | 50 | bonus | 1 |
| 58 | **Sincronizar Dados** | `sync_health_data` | 5 | tracking | 3 |

#### üéÅ POWER-UPS / ESPECIAIS (4 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 59 | **Usar Power-up** | `use_powerup` | 0 | especial | - |
| 60 | **Ganhar Power-up** | `earn_powerup` | 20 | bonus | 5 |
| 61 | **Combo Multiplicador (3x)** | `combo_3x` | 100 | bonus | - |
| 62 | **Caixa Presente Aberta** | `mystery_box_open` | 50-200 | bonus | 3 |

#### ü©∫ DR. VITAL / SA√öDE (4 a√ß√µes)

| # | A√ß√£o | action_type | Pontos Sugeridos | Categoria | Limite/Dia |
|---|------|-------------|------------------|-----------|------------|
| 63 | **Enviar Exame** | `upload_exam` | 30 | saude | 3 |
| 64 | **An√°lise Dr. Vital** | `dr_vital_analysis` | 40 | saude | 3 |
| 65 | **Consulta Completa** | `health_consultation` | 100 | saude | 1 |
| 66 | **Streak Sa√∫de (7 dias)** | `health_streak_7` | 75 | bonus | - |

---

## üìä RESUMO POR CATEGORIA

| Categoria | A√ß√µes | Pontos Totais Poss√≠veis/Dia |
|-----------|-------|------------------------------|
| **Social** | 15 | ~500 pts |
| **Desafios** | 15 | ~1000 pts |
| **Educa√ß√£o** | 5 | ~500 pts |
| **Exerc√≠cio** | 7 | ~800 pts |
| **Nutri√ß√£o** | 5 | ~200 pts |
| **Tracking** | 6 | ~150 pts |
| **Sa√∫de** | 4 | ~200 pts |
| **B√¥nus** | 9 | Vari√°vel |
| **TOTAL** | **66 a√ß√µes** | **~3.350 pts/dia** |

---

## üéÆ SISTEMA DE MULTIPLICADORES

### Combos
- **2 dias consecutivos**: 1.25x
- **3 dias consecutivos**: 1.5x
- **5 dias consecutivos**: 2.0x
- **7 dias consecutivos**: 2.5x
- **14 dias consecutivos**: 3.0x (m√°ximo)

### Eventos Especiais
- **Fim de semana**: 1.5x em exerc√≠cios
- **Eventos sazonais**: 2.0x em a√ß√µes do evento
- **Flash challenges**: 1.5x base
- **Batalhas de time**: 2.0x contribui√ß√µes

### Ligas
- **Bronze**: 1.0x
- **Prata**: 1.1x
- **Ouro**: 1.25x
- **Diamante**: 1.5x
- **Mestre**: 2.0x

---

## üóÑÔ∏è TABELAS ENVOLVIDAS

### Principais
1. `user_points` - Pontos acumulados
2. `points_configuration` - Configura√ß√£o de a√ß√µes
3. `exercise_points_history` - Hist√≥rico exerc√≠cios
4. `challenge_participations` - Participa√ß√µes em desafios
5. `health_streaks` - Streaks Dr. Vital

### Desafios Avan√ßados
6. `flash_challenges` - Desafios rel√¢mpago
7. `challenge_duels` - Duelos 1v1
8. `challenge_teams` - Times/Cl√£s
9. `team_battles` - Batalhas time vs time
10. `challenge_journeys` - Jornadas √©picas
11. `seasonal_events` - Eventos sazonais
12. `user_leagues` - Sistema de ligas

### Comunidade
13. `health_feed_posts` - Posts
14. `health_feed_comments` - Coment√°rios
15. `health_feed_stories` - Stories 24h
16. `health_feed_reactions` - Rea√ß√µes

### Educa√ß√£o
17. `courses` - Cursos
18. `course_modules` - M√≥dulos
19. `course_lessons` - Aulas
20. `user_course_progress` - Progresso

### Exerc√≠cios
21. `camera_workout_sessions` - Treinos com c√¢mera
22. `exercise_sessions` - Sess√µes de exerc√≠cio
23. `exercise_achievements` - Conquistas

### Nutri√ß√£o
24. `food_analysis` - An√°lises Sofia
25. `food_history` - Hist√≥rico alimentar
26. `daily_nutrition_tracking` - Tracking di√°rio

### Tracking
27. `advanced_daily_tracking` - Tracking avan√ßado
28. `weight_measurements` - Pesagens
29. `google_fit_data` - Dados Google Fit

---

## üîß PR√ìXIMOS PASSOS

### 1. Adicionar Configura√ß√µes Faltantes
```sql
INSERT INTO points_configuration (action_type, action_name, points, description, icon, category, max_daily) VALUES
-- Social
('create_post', 'Criar Post', 15, 'Publicar na comunidade', 'üìù', 'social', 5),
('create_story', 'Criar Story', 10, 'Publicar story 24h', 'üì∏', 'social', 10),
('react_post', 'Reagir Post', 3, 'Reagir com emoji', '‚ù§Ô∏è', 'social', 30),

-- Desafios
('flash_challenge_complete', 'Flash Challenge', 150, 'Completar desafio rel√¢mpago', '‚ö°', 'desafio', NULL),
('duel_win', 'Vencer Duelo', 200, 'Vencer duelo 1v1', '‚öîÔ∏è', 'desafio', 3),
('team_battle_win', 'Batalha de Time', 500, 'Time vence batalha', 'üèÜ', 'desafio', NULL),

-- Educa√ß√£o
('watch_lesson', 'Assistir Aula', 20, 'Assistir aula completa', 'üéì', 'educacao', 10),
('complete_course', 'Completar Curso', 500, 'Finalizar curso', 'üéñÔ∏è', 'educacao', NULL),

-- Exerc√≠cio
('workout_complete', 'Treino Completo', 100, 'Completar treino', 'üí™', 'exercicio', 3),
('camera_workout', 'Treino com C√¢mera', 150, 'Treino com an√°lise de pose', 'üìπ', 'exercicio', 5),

-- Nutri√ß√£o
('meal_log', 'Registrar Refei√ß√£o', 15, 'Registrar refei√ß√£o', 'üçΩÔ∏è', 'nutricao', 6),
('calorie_goal_met', 'Meta Cal√≥rica', 50, 'Atingir meta de calorias', 'üéØ', 'nutricao', 1),

-- Tracking
('steps_goal_met', 'Meta de Passos', 40, 'Atingir meta de passos', 'üëü', 'tracking', 1),
('sleep_log', 'Registrar Sono', 15, 'Registrar qualidade do sono', 'üò¥', 'tracking', 1),

-- Sa√∫de
('upload_exam', 'Enviar Exame', 30, 'Upload de exame m√©dico', 'ü©∫', 'saude', 3),
('dr_vital_analysis', 'An√°lise Dr. Vital', 40, 'An√°lise de exame', 'üî¨', 'saude', 3)
ON CONFLICT (action_type) DO NOTHING;
```

### 2. Criar Triggers Autom√°ticos
- Trigger ao criar post ‚Üí adicionar pontos
- Trigger ao completar desafio ‚Üí adicionar pontos + XP
- Trigger ao assistir aula ‚Üí adicionar pontos
- Trigger ao registrar refei√ß√£o ‚Üí adicionar pontos

### 3. Atualizar Painel Admin
- Adicionar nova categoria "Educa√ß√£o"
- Adicionar nova categoria "Exerc√≠cio"
- Adicionar nova categoria "Nutri√ß√£o"
- Adicionar nova categoria "Tracking"
- Adicionar nova categoria "Sa√∫de"

### 4. Implementar Sistema de Caixas Presente
- Caixas ganhas por streaks
- Caixas ganhas por n√≠veis
- Caixas ganhas por eventos
- Recompensas aleat√≥rias (50-200 pts)

---

## üìà ECONOMIA DE PONTOS

### Ganho M√©dio Esperado
- **Usu√°rio Casual**: 100-300 pts/dia
- **Usu√°rio Ativo**: 500-1000 pts/dia
- **Usu√°rio Hardcore**: 1500-3000 pts/dia

### N√≠veis
- **N√≠vel 1**: 0 pts
- **N√≠vel 10**: 10.000 pts
- **N√≠vel 50**: 250.000 pts
- **N√≠vel 100**: 1.000.000 pts

### Tempo para N√≠veis
- **N√≠vel 10** (casual): ~33 dias
- **N√≠vel 10** (ativo): ~10 dias
- **N√≠vel 50** (casual): ~833 dias
- **N√≠vel 50** (ativo): ~250 dias

---

*√öltima atualiza√ß√£o: Janeiro 2026*
