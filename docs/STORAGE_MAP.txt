โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    MAXNUTRITION - MAPA DE ARMAZENAMENTO                     โ
โ                              Janeiro 2026 - v1.0                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐ SUPABASE CLOUD (99%)                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  ๐ POSTGRESQL DATABASE - 209 TABELAS                               โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  ๐ค PERFIL & USUรRIO (10 tabelas)                                    โ
    โ     โข profiles                    โข user_roles                       โ
    โ     โข user_physical_data          โข avatars                          โ
    โ     โข avatar_customizations       โข user_anamnesis                   โ
    โ                                                                       โ
    โ  ๐ฅ NUTRIรรO - SOFIA (25 tabelas)                                    โ
    โ     โข food_analysis               โข sofia_food_analysis              โ
    โ     โข nutrition_tracking          โข nutrition_foods                  โ
    โ     โข nutrition_aliases           โข nutritional_goals                โ
    โ     โข meal_plan_history           โข food_history                     โ
    โ                                                                       โ
    โ  ๐ฅ SAรDE - DR. VITAL (30 tabelas)                                   โ
    โ     โข medical_documents           โข medical_exam_analyses            โ
    โ     โข health_diary                โข preventive_health_analyses       โ
    โ     โข weekly_analyses             โข coaching_reports                 โ
    โ     โข premium_medical_reports     โข professional_evaluations         โ
    โ                                                                       โ
    โ  ๐ TRACKING DIรRIO (15 tabelas)                                     โ
    โ     โข advanced_daily_tracking     โข weight_measurements              โ
    โ     โข sleep_tracking              โข water_tracking                   โ
    โ     โข mood_tracking               โข pain_reports                     โ
    โ                                                                       โ
    โ  ๐ช EXERCรCIOS (45 tabelas)                                          โ
    โ     โข exercises                   โข exercises_library                โ
    โ     โข exercise_sessions           โข workout_history                  โ
    โ     โข exercise_tracking           โข exercise_achievements            โ
    โ                                                                       โ
    โ  ๐ฎ GAMIFICAรรO (35 tabelas)                                         โ
    โ     โข challenges                  โข challenge_participations         โ
    โ     โข user_achievements           โข user_points                      โ
    โ     โข user_gamification           โข flash_challenges                 โ
    โ                                                                       โ
    โ  ๐ฏ METAS (10 tabelas)                                               โ
    โ     โข user_goals                  โข goal_achievements                โ
    โ     โข goal_predictions            โข goal_reminders                   โ
    โ                                                                       โ
    โ  ๐ฌ CHAT & CONVERSAS (10 tabelas)                                    โ
    โ     โข chat_conversations          โข conversation_messages            โ
    โ     โข dr_vital_memory             โข sofia_conversations              โ
    โ                                                                       โ
    โ  ๐ฑ WHATSAPP (15 tabelas)                                            โ
    โ     โข whatsapp_evolution_logs     โข whatsapp_message_logs            โ
    โ     โข whatsapp_pending_medical    โข whatsapp_webhook_responses       โ
    โ                                                                       โ
    โ  ๐ INTEGRAรรES (10 tabelas)                                         โ
    โ     โข google_fit_data             โข google_fit_tokens                โ
    โ     โข webhook_destinations        โข webhook_queue                    โ
    โ                                                                       โ
    โ  ๐ OUTROS (14 tabelas)                                              โ
    โ     โข sessions                    โข user_sessions                    โ
    โ     โข daily_missions              โข ai_configurations                โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  โ๏ธ  SUPABASE STORAGE - BUCKETS                                      โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  ๐ฆ avatars                  โ Avatares de usuรกrio (100KB-500KB)    โ
    โ  ๐ฆ medical-documents        โ Exames, PDFs (500KB-5MB)             โ
    โ  ๐ฆ food-images              โ Fotos de alimentos (200KB-2MB)       โ
    โ  ๐ฆ profile-photos           โ Fotos de perfil (100KB-1MB)          โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  โก EDGE FUNCTIONS - 73 FUNรรES SERVERLESS                           โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  ๐ฅ Nutriรงรฃo (13)            ๐ฅ Saรบde (24)                           โ
    โ  ๐ฑ WhatsApp (15)            ๐ Integraรงรตes (21)                     โ
    โ                                                                       โ
    โ  Top 5:                                                               โ
    โ    1. sofia-image-analysis   โ Anรกlise de imagens                   โ
    โ    2. analyze-medical-exam   โ Anรกlise de exames                    โ
    โ    3. dr-vital-chat          โ Chat Dr. Vital                       โ
    โ    4. whatsapp-webhook       โ Webhook WhatsApp                     โ
    โ    5. food-analysis          โ Anรกlise de alimentos                 โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           ๐ป BROWSER STORAGE (1%)                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  ๐พ localStorage - 8 KEYS                                            โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  โข maxnutrition_selected_character  โ Personagem selecionado        โ
    โ  โข user_goals                       โ Cache de metas                โ
    โ  โข sofia_insights_last_generated    โ รltima geraรงรฃo insights       โ
    โ  โข hasSeenWelcomeModal              โ Flag modal boas-vindas        โ
    โ  โข daily_chest_claimed              โ Controle baรบ diรกrio           โ
    โ  โข voice_config                     โ Configuraรงรฃo de voz           โ
    โ  โข emailConfig                      โ Configuraรงรฃo email            โ
    โ  โข n8nConfig                        โ Configuraรงรฃo n8n              โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  ๐ sessionStorage - 1 KEY                                           โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  โข chunk_error_recovery  โ Recuperaรงรฃo de erros de chunk            โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  ๐ฆ PWA CACHE - 3 CACHES                                             โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  โข supabase-cache    โ NetworkFirst, 24h, 100 entries               โ
    โ  โข images-cache      โ CacheFirst, 30d, 60 entries                  โ
    โ  โข fonts-cache       โ CacheFirst, 365d, 20 entries                 โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ๐ณ DOCKER VOLUMES (Dev Apenas)                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  ๐ฆ VOLUMES LOCAIS                                                   โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ                                                                       โ
    โ  โข caddy_data, caddy_config      โ Proxy reverso                    โ
    โ  โข ollama_models                 โ Modelos de IA                    โ
    โ  โข label_studio_postgres_data    โ Label Studio                     โ
    โ  โข supabase_data                 โ Supabase local                   โ
    โ  โข redis_data                    โ Cache Redis                      โ
    โ  โข prometheus_data               โ Mรฉtricas                         โ
    โ                                                                       โ
    โ  โ๏ธ  NรO USADO EM PRODUรรO                                           โ
    โ                                                                       โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              ๐ ESTATรSTICAS                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  Tabelas no Banco:        209                                                โ
โ  Edge Functions:          73                                                 โ
โ  Storage Buckets:         ~5                                                 โ
โ  localStorage Keys:       8                                                  โ
โ  PWA Caches:              3                                                  โ
โ                                                                              โ
โ  Uso Estimado:                                                               โ
โ    Database:              ~200MB / 500MB (40%)                               โ
โ    Storage:               ~500MB / 1GB (50%)                                 โ
โ    Bandwidth:             ~1GB / 2GB/mรชs (50%)                               โ
โ    Edge Functions:        ~100K / 500K/mรชs (20%)                             โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           ๐ FLUXOS PRINCIPAIS                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  1. ANรLISE DE ALIMENTO (Sofia)                                              โ
โ     Usuรกrio โ Foto โ Storage โ YOLO โ Gemini โ Database โ App               โ
โ                                                                              โ
โ  2. ANรLISE DE EXAME (Dr. Vital)                                             โ
โ     Usuรกrio โ PDF โ Storage โ YOLO+Gemini โ Database โ App                  โ
โ                                                                              โ
โ  3. TRACKING DIรRIO                                                          โ
โ     Usuรกrio โ Dados โ Database โ localStorage โ Sync                        โ
โ                                                                              โ
โ  4. WHATSAPP                                                                 โ
โ     WhatsApp โ Webhook โ Edge Function โ Database โ Response                โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐ SEGURANรA & BACKUP                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  โ RLS (Row Level Security) em todas as tabelas                             โ
โ  โ JWT Authentication via Supabase Auth                                     โ
โ  โ Storage Policies por bucket                                              โ
โ  โ Backup automรกtico diรกrio (7 dias retenรงรฃo)                               โ
โ  โ HTTPS em todas as comunicaรงรตes                                           โ
โ  โ Rate limiting em Edge Functions                                          โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐๏ธ  COMANDOS รTEIS                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  # Anรกlise completa                                                          โ
โ  python3 scripts/analyze-storage.py                                          โ
โ                                                                              โ
โ  # Menu interativo                                                           โ
โ  ./scripts/storage-commands.sh                                               โ
โ                                                                              โ
โ  # Listar Edge Functions                                                     โ
โ  ./scripts/storage-commands.sh functions                                     โ
โ                                                                              โ
โ  # Gerar relatรณrio                                                           โ
โ  ./scripts/storage-commands.sh report                                        โ
โ                                                                              โ
โ  # Procurar uso de tabela                                                    โ
โ  grep -r "from('profiles')" src/                                             โ
โ                                                                              โ
โ  # Gerar tipos TypeScript                                                    โ
โ  npx supabase gen types typescript --local                                   โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐ DOCUMENTAรรO                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  ๐ QUICK_REFERENCE.md           โ Referรชncia rรกpida (5 min)                 โ
โ  ๐ STORAGE_SUMMARY.md           โ Resumo executivo (10 min)                 โ
โ  ๐ STORAGE_ANALYSIS_REPORT.md   โ Relatรณrio completo (30 min)               โ
โ  ๐ STORAGE_DIAGRAM.md           โ Diagramas visuais (15 min)                โ
โ  ๐ STORAGE_README.md            โ Como usar (10 min)                        โ
โ  ๐ INDEX.md                     โ รndice geral (5 min)                      โ
โ  ๐ AI_CODING_GUIDELINES.md      โ Guia de cรณdigo (45 min)                   โ
โ  ๐ COMMON_ERRORS.md             โ Erros comuns (20 min)                     โ
โ  ๐ YOLO_INTEGRACAO_COMPLETA.md  โ Integraรงรฃo YOLO (30 min)                  โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐ฏ LINKS RรPIDOS                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  Supabase Dashboard:  https://supabase.com/dashboard                         โ
โ  YOLO Service:        yolo-service-yolo-detection.0sw627.easypanel.host     โ
โ  App Local:           http://localhost:8080                                  โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          โ๏ธ  REGRAS CRรTICAS                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  โ NUNCA editar src/integrations/supabase/types.ts (auto-gerado)            โ
โ  โ NUNCA criar outro cliente Supabase                                       โ
โ  โ NUNCA desconectar YOLO Service                                           โ
โ  โ NUNCA usar profiles.role (nรฃo existe)                                    โ
โ  โ SEMPRE usar @/ para imports                                              โ
โ  โ SEMPRE verificar se tabela existe                                        โ
โ  โ SEMPRE usar RLS policies                                                 โ
โ  โ SEMPRE tentar YOLO primeiro                                              โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐ SUPORTE                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                              โ
โ  Dรบvidas?           โ Consulte docs/INDEX.md                                 โ
โ  Erro?              โ Consulte docs/COMMON_ERRORS.md                         โ
โ  Contribuir?        โ Abra um Pull Request                                   โ
โ  Reportar bug?      โ Abra uma Issue no GitHub                               โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

                          รltima atualizaรงรฃo: Janeiro 2026
                          Versรฃo: 1.0.0
                          Mantido por: Equipe MaxNutrition
